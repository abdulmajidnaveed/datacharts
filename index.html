<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Aircraft Strikes</title>
        <link rel="stylesheet" href="css/typeahead.css">
        <link rel="stylesheet" href="css/viz.css">
        <link href='https://fonts.googleapis.com/css?family=Gudea' rel='stylesheet' type='text/css'>

        <!-- --for top navigation bar -->
        <link rel="stylesheet" href="css/topnavbar.css">
        <!-- --for content containers -->
        <link rel="stylesheet" href="css/content.css">

    </head>
    <body>
        <!-- html top navigation bar BEGIN -->
        <div class="topnavbar"  id="topnav" >
            <span class="leftspacer"></span>
            <a href="javascript:void(0)" class="active" id="b0" onclick="f1('b0')"><span>Home</span></a>
            <a href="javascript:void(0)" class="inactive" id="b1" onclick="f1('b1')"><span>Description</span></a>
            <a href="javascript:void(0)" class="inactive" id="b2" onclick="f1('b2')"><span>Data</span></a>
            <a href="javascript:void(0)" class="inactive" id="b3" onclick="f1('b3')"><span>Libraries</span></a>
            <a href="javascript:void(0)" class="inactive" id="b4" onclick="f1('b4')"><span>About</span></a>
            <a href="javascript:void(0);" class="icon" onclick="toggleResponsive()"><span>&#9776;</span></a>
        </div>
        <script>
            mostRecentActiveb = document.getElementById("b0");
            function f1(buttonId){
                var newButtonPressed = document.getElementById(buttonId);
                if (newButtonPressed.className === "inactive") {
                    newButtonPressed.className = "active"; 
                    mostRecentActiveb.className = "inactive";
                    mostRecentActiveb=newButtonPressed;
                } else {
                    // pressed already active button; do nothing
                }
                toggleResponsive();f2(buttonId);
            }
            function f2(buttonId){
                var contentdivs = document.getElementsByClassName("content-div");
                for (i=0; i< contentdivs.length; i++){
                    // contentdivs[i].style.backgroundColor = 'grey';
                    contentdivs[i].style.display = 'none';
                }
                var contentDiv;
                if (buttonId==='b0'){
                    contentDiv = document.getElementsByClassName('container')[0];
                } else if (buttonId==='b1'){
                    contentDiv = document.getElementById('content-description');
                } else if (buttonId==='b2'){
                    contentDiv = document.getElementById('content-data');
                } else if (buttonId==='b3'){
                    contentDiv = document.getElementById('content-libraries');
                } else if (buttonId==='b4'){
                    contentDiv = document.getElementById('content-about');
                }
                contentDiv.style.display = 'block';
            }
            /* Toggle between adding and removing the "responsive" class to topnav when the user clicks on the icon */
            function toggleResponsive() {
                var x = document.getElementById("topnav");
                if (x.className === "topnavbar") {
                    x.className += " responsive";
                } else {
                    x.className = "topnavbar";
                }
            }
        </script>
        <!-- html top navigation bar END -->

        <div class="main">
        <div class="container content-div">

            <h1>Data Visualization for Aircraft Strikes</h1>

            <div class="overlay">
                <input id="dep" type="text" placeholder="Look up an airport" disabled class="dep typeahead">
                </span>
                <span id="msg" class="error msg">We can't find strikes from this location</span>
            </div>

            <div id="map" class="area map">
                <h2 class="hidden">Source airport for strikes</h2>
            </div>

             <div class="charts clearfix hidden">
                <div id="species-chart" class="area">
                    <h2>Strikes across species (hover)</h2>
                    <button type="button" class="reset">reset</button>
                </div>
            </div>
            <div class="charts clearfix hidden chartRowElement">
                <div id="year-chart" class="area">
                    <h4>Strikes across year</h4>
                    <button type="button" class="reset">reset</button>
                </div>
            </div>
            <div class="charts hidden chartRowElement">
                <div id="month-chart" class="area col-2 clearfix">
                    <h4 class="shift">Strikes across month</h4>
                    <button type="button" class="reset">reset</button>
                </div>
            </div>
            <div class="charts hidden">
                <div id="pie-chart" class="area col-2 clearfix">
                    <h3>Species Distribution</h3>
                    <button type="button" class="reset">reset</button>
                </div>
            </div>

        </div>
        <div id="content-description" class="content-div" >
            <h1>Description</h1>
            <p>
                The visualization allows you to view the distribution of strike events across 
                bird species, months, years for a specified airport.
            </p>
            <p>
                Type something in the textbox and a dropdown will appear suggesting airports.
            </p>
            <p>
                Choose one and charts (three bar graphs and a pie chart) will appear and the map 
                will show a circle representing the airport location.
            </p>
            <p>
                For the selected airport, the bar graphs show the distribution of strike counts across 
                various dimensions. The strike counts are shown distributed across bird species, year
                and month. The pie chart shows the proportion of events for the top five bird species.
                The circle on the map shows the location.
            </p>
            <p>
                Hover over the circle to see information on the airport, and the number of incidents
                and the total cost of repairs for all the strike events. For the first bar chart, 
                hover over each bar and the tooltip will indicate the species and the number of 
                strikes.
            </p>
            <p>
                For the second and third bar charts, the mouse icon shows a crosshairs (like a 
                large + sign). Use it to select some bars (in effect selecting some data and filtering
                out the rest). The charts will update, filtering out the corresponding
                unselected data.
            </p>
            <p>
                The pie chart shows the proportion of events for the top five species. It can be 
                similarly used to selectively filter by clicking on the sectors.
            </p>
        </div>
        <div id="content-data" class="content-div" >
            <h1>Data</h1></div>
        <div id="content-libraries" class="content-div">
            <h1>Libraries</h1></div>
        <div id="content-about" class="content-div">
            <h1>About</h1></div>
        </div>
        
        <script src="//d3js.org/d3.v3.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.1.0/topojson.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore-min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.11/crossfilter.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.10.4/typeahead.bundle.min.js"></script>
        <script src="js/datamaps.usa.min.js"></script>
        <script src="js/dc.js"></script>
        <script src="js/viz.js"></script>
    </body>
</html>
